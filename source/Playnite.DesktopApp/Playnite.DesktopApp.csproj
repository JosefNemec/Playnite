<Project Sdk="Microsoft.NET.Sdk">
  
    <PropertyGroup>
        <OutputType>WinExe</OutputType>
        <TargetFramework>net462</TargetFramework>
        <UseWPF>true</UseWPF>
    </PropertyGroup>
    
    <PropertyGroup>
        <StartupObject>Playnite.DesktopApp.ProgramEntry</StartupObject>
        <ApplicationIcon>Themes\Desktop\Default\Images\applogo.ico</ApplicationIcon>
        <!--
        NOTE: not sure about this one, see https://github.com/dotnet/sdk/issues/23627
        <ApplicationManifest>app.manifest</ApplicationManifest>
        -->
    </PropertyGroup>
    
    <PropertyGroup>
        <AssemblyTitle>Playnite Desktop Application</AssemblyTitle>
        <Description>Playnite Desktop Application</Description>
        <Company>Josef Nemec</Company>
        <Product>Playnite</Product>
        <Copyright>Copyright © Josef Nemec 2019</Copyright>
        <AssemblyVersion>1.0.0.0</AssemblyVersion>
    </PropertyGroup>
    
    <!-- Project References -->
    <ItemGroup>
        <ProjectReference Include="..\Playnite\Playnite.csproj" />
    </ItemGroup>

    <!-- Package References -->
    <ItemGroup>
        <PackageReference Include="CommandLineParser" Version="2.8.0" />
        <PackageReference Include="CommonServiceLocator" Version="1.3" />
        <PackageReference Include="Expression.Blend.Sdk" Version="1.0.2" />
        <PackageReference Include="Hardcodet.NotifyIcon.Wpf" Version="1.0.8" />
        <PackageReference Include="LargeAddressAware" Version="1.0.5" />
        <PackageReference Include="Prism.Core" Version="6.3.0" />
        <PackageReference Include="Prism.Wpf" Version="6.3.0" />
        <PackageReference Include="System.IO.Abstractions" Version="2.1.0.227" />
        <PackageReference Include="System.ValueTuple" Version="4.5.0" />
    </ItemGroup>

    <!-- .NET Framework Assembly References -->
    <ItemGroup>
        <PackageReference Include="Microsoft.NETFramework.ReferenceAssemblies.net462" Version="1.0.2">
            <PrivateAssets>all</PrivateAssets>
            <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
        </PackageReference>
    </ItemGroup>

    <!-- Assembly References with custom HintPath -->
    <ItemGroup>
        <Reference Include="HtmlRenderer">
            <HintPath>..\..\references\HtmlRenderer.dll</HintPath>
        </Reference>
        <Reference Include="HtmlRenderer.WPF">
            <HintPath>..\..\references\HtmlRenderer.WPF.dll</HintPath>
        </Reference>
    </ItemGroup>
    
    <!-- Resources and Files -->
    <ItemGroup>
        <EmbeddedResource Include="Resources\contributors.txt"/>
        <SplashScreen Include="SplashScreen.png"/>
        
        <!-- Glob for all files in Themes\Desktop\Default\Images -->
        <Content Include="Themes\Desktop\Default\Images\**">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </Content>
        <None Include="Themes\Desktop\Default\DescriptionView.html">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
        <None Include="Themes\Desktop\Default\theme.yaml">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
        
        <Resource Include="..\..\references\Fonts\icofont.tff">
            <Link>Fonts\icofont.ttf</Link>
        </Resource>
        <Resource Include="Resources\igdbicon.png"/>
    </ItemGroup>
    
    <PropertyGroup>
        <PostBuildEvent>SETX PLAYNITE_SLN $(SolutionDir)</PostBuildEvent>
        <DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>
    </PropertyGroup>
    
    <PropertyGroup>
        <LargeAddressAware>true</LargeAddressAware>
    </PropertyGroup>
    
</Project>
