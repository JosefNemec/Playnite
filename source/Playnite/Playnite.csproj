<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <TargetFramework>net462</TargetFramework>
        <UseWpf>true</UseWpf>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    </PropertyGroup>

    <PropertyGroup>
        <AssemblyTitle>Playnite</AssemblyTitle>
        <Description>Playnite Support Library</Description>
        <Company>Josef Nemec</Company>
        <Product>Playnite</Product>
        <Copyright>Copyright © Josef Nemec 2018</Copyright>
        <AssemblyVersion>9.15.0</AssemblyVersion>
    </PropertyGroup>
    
    <!-- Project References -->
    <ItemGroup>
        <ProjectReference Include="..\PlayniteSDK\Playnite.SDK.csproj" />
    </ItemGroup>
    
    <!-- Package References -->
    <ItemGroup>
        <PackageReference Include="AngleSharp" Version="0.9.9" PrivateAssets="all" />
        <PackageReference Include="cef.redist.x64" Version="95.7.14" />
        <PackageReference Include="cef.redist.x86" Version="95.7.14" />
        <PackageReference Include="CefSharp.Common" Version="95.7.141" />
        <PackageReference Include="CefSharp.OffScreen" Version="95.7.141" />
        <PackageReference Include="CefSharp.Wpf" Version="95.7.141" />
        <PackageReference Include="CommandLineParser" Version="2.8.0" />
        <PackageReference Include="CommonServiceLocator" Version="1.3" />
        <PackageReference Include="Crc32.NET" Version="1.2.0" />
        <PackageReference Include="DynamicLanguageRuntime" Version="1.2.1" />
        <PackageReference Include="Expression.Blend.Sdk" Version="1.0.2" />
        <PackageReference Include="Flurl" Version="2.7.1" />
        <PackageReference Include="LiteDB" Version="4.1.4" />
        <PackageReference Include="Markdig" Version="0.18.0" />
        <PackageReference Include="NAudio" Version="1.10.0" />
        <PackageReference Include="Nett" Version="0.10.1" />
        <PackageReference Include="Newtonsoft.Json" Version="10.0.3" />
        <PackageReference Include="NLog" Version="4.7.6" />
        <PackageReference Include="PhotoSauce.MagicScaler" Version="0.11.2" />
        <PackageReference Include="Polly" Version="5.1.0" />
        <PackageReference Include="Prism.Core" Version="6.3.0" />
        <PackageReference Include="Prism.Wpf" Version="6.3.0" />
        <PackageReference Include="protobuf-net" Version="2.0.0.668" PrivateAssets="all" />
        <PackageReference Include="SharpCompress" Version="0.26.0" />
        <PackageReference Include="System.Buffers" Version="4.5.1" />
        <PackageReference Include="System.IO.Abstractions" Version="2.1.0.227" />
        <PackageReference Include="System.Memory" Version="4.5.4" />
        <PackageReference Include="System.Numerics.Vectors" Version="4.5.0" />
        <PackageReference Include="System.Runtime.CompilerServices.Unsafe" Version="4.5.3" />
        <PackageReference Include="System.Runtime.InteropServices.RuntimeInformation" Version="4.3.0" />
        <PackageReference Include="System.ValueTuple" Version="4.5.0" />
        <PackageReference Include="WindowsAPICodePack" Version="1.1.0" />
        <PackageReference Include="YamlDotNet" Version="5.4.0" />
    </ItemGroup>
    
    <!-- .NET Framework Assembly References -->
    <ItemGroup>
        <PackageReference Include="Microsoft.NETFramework.ReferenceAssemblies.net462" Version="1.0.2">
            <PrivateAssets>all</PrivateAssets>
            <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
        </PackageReference>
        
        <Reference Include="System.Management.Automation, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35">
            <HintPath>C:\Windows\Microsoft.Net\assembly\GAC_MSIL\System.Management.Automation\v4.0_3.0.0.0__31bf3856ad364e35\System.Management.Automation.dll</HintPath>
        </Reference>

        <!--
        Note: can't get this to properly import, the dll is not in the Microsoft.NETFramework.ReferenceAssemblies package.
        
        <Reference Include="System.Management.Automation"/>
        -->

        <Reference Include="System.Web"/>
        <Reference Include="System.Management"/>
        <Reference Include="System.Net.Http" />
        <Reference Include="System.ServiceProcess" />
    </ItemGroup>
    
    <!-- Assembly References with custom HintPath -->
    <ItemGroup>
        <Reference Include="DiscordRPC">
            <HintPath>..\..\references\DiscordRPC.dll</HintPath>
        </Reference>
        <Reference Include="HtmlRenderer">
            <HintPath>..\..\references\HtmlRenderer.dll</HintPath>
        </Reference>
        <Reference Include="HtmlRenderer.WPF">
            <HintPath>..\..\references\HtmlRenderer.WPF.dll</HintPath>
        </Reference>
        <Reference Include="SQLNado">
            <HintPath>..\..\references\SQLNado.dll</HintPath>
        </Reference>
        <Reference Include="Windows">
            <HintPath>..\..\references\Windows.winmd</HintPath>
        </Reference>
        <Reference Include="XInputDotNetPure">
            <HintPath>..\..\references\XInputDotNetPure.dll</HintPath>
        </Reference>
    </ItemGroup>
    
    <!-- COM References -->
    <ItemGroup>
        <COMReference Include="IWshRuntimeLibrary">
            <Guid>{F935DC20-1CF0-11D0-ADB9-00C04FD58A0B}</Guid>
            <VersionMajor>1</VersionMajor>
            <VersionMinor>0</VersionMinor>
            <Lcid>0</Lcid>
            <WrapperTool>tlbimp</WrapperTool>
            <Isolated>False</Isolated>
            <EmbedInteropTypes>True</EmbedInteropTypes>
        </COMReference>
    </ItemGroup>
    
    <ItemGroup>
        <Content Include="..\..\references\XInputInterface.dll">
            <Link>Dependencies\XInputInterface.dll</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </Content>
        <None Include="..\..\references\CefSharpRedist\*.*">
            <Link>%(Filename)%(Extension)</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
        <Content Include="..\..\references\msvcr110.dll">
            <Link>Dependencies\msvcr110.dll</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </Content>
        <Content Include="..\..\references\sqlite3.x86.dll">
            <Link>Dependencies\sqlite3.x86.dll</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </Content>
    </ItemGroup>
    
    <ItemGroup>
        <Content Include="Common.config">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
            <SubType>Designer</SubType>
        </Content>
        <None Include="Safe Mode.bat">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
        <None Include="Resources\playnite_extension.ico">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
        <None Include="license.txt">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
        <None Include="crash_reporter.cfg">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
        <None Include="Emulation\**">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
        <None Include="Localization\locstatus.json">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </None>
    </ItemGroup>
    
    <ItemGroup>
        <Resource Include="Resources\Images\DesignBackground.jpg" />
        <Resource Include="Resources\Images\DesignCover.jpg" />
        <Resource Include="Resources\Images\DesignIcon.png" />
    </ItemGroup>
</Project>